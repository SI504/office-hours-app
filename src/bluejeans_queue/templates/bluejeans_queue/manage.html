{% extends "base.html" %}

{% block content %}
<div class="alert alert-primary" role="alert">
    <strong>Please note:</strong> The number one requested new feature we are currently working to add is <em>shared queues</em>. These will allow multiple hosts to handle the same queue.
</div>
<h1>Manage Your One-on-One Meeting Queue</h1>
<button type=button onclick="location.reload()" class="btn btn-info">
    Refresh queue
</button>

{% if queue %}
<form method="post" action="">
    {% csrf_token %}
    <button type="submit" name="meeting" value="all" onclick="return confirm('Are you sure?');" class="btn btn-danger float-right">
        Remove All
    </button>
    <h2>People in Line:</h2>
    <p class="alert alert-info col-lg">
        When you finish a meeting, remove the entry from the list above
        to update the line length for the other people in the queue.
    </p>
    <ol class="list-group">
        {% for m in queue %}
        <li class="list-group-item">
            <span>{{m.attendee.get_full_name}}  <em>({{m.attendee.username}})</em></span>
            <span> â€¢ </span>
            <a target="_blank" href={{m.bjn_meeting_url}}>{{m.bjn_meeting_url}}</a>
            <span class="float-right">
                <span>{{m.created_at}}</span>
                <button type="submit" name="meeting" value="{{m.id}}" onclick="return confirm('Are you sure?');" class="btn btn-sm btn-danger">
                    <span aria-hidden="true">&times;</span>
                </button>
            </span>
        </li>
        {% endfor %}
    </ol>
</form>
<br>
{% else %}
<p class="lead">
    No one has joined your queue yet.
</p>
{% endif %}

<a href="{% url 'meeting' request.user.username %}">
    See your own queue as a visitor
</a>

<hr />
<a target="_blank" href="https://documentation.its.umich.edu/node/1830">
    Learn more about using Remote Office Hours Queue as a host
</a>

{% endblock %}
